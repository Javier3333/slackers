[
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "oh no <@U0K8ZSHN0> i hope you are going to be okay",
        "ts": "1493741396.058679"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "thank you, i feel better than yesterday, just need to take it easy",
        "ts": "1493741423.068767"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "no lifting of anything!",
        "ts": "1493741435.072982"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "also in a major derp moment i realized my 9am meeting is actually a 10am. hanging out at ristretto until then, be in around 11",
        "ts": "1493741501.096849"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "how are things going? did this boot back up today?",
        "ts": "1493741746.187298"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "Jose pinged us to say he’s out at a meeting until 10",
        "ts": "1493741759.192316"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i think until then maybe we should try and update things on our own so we can give him the proper instructions",
        "ts": "1493741776.198688"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "because i realized that the deployment guide covers a migration specifically",
        "ts": "1493741790.203696"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "yeah i was gonna say, can’t we just sort of read ahead and “do this”",
        "ts": "1493741790.203899"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U167FL70V|leia> shared a file: <https:\/\/uncorked.slack.com\/files\/leia\/F54DMLJMN\/global_impact_deployment_guide|Global Impact Deployment Guide>",
        "file": {
            "id": "F54DMLJMN",
            "created": 1493240991,
            "timestamp": 1493240991,
            "name": "Global Impact Deployment Guide",
            "title": "Global Impact Deployment Guide",
            "mimetype": "application\/vnd.google-apps.document",
            "filetype": "gdoc",
            "pretty_type": "GDocs Document",
            "user": "U167FL70V",
            "editable": false,
            "size": 15722,
            "mode": "external",
            "is_external": true,
            "external_type": "gdrive",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/docs.google.com\/document\/d\/1H6mjpdUMHn1Io7-uLKIbSvm1G-MfPfr1h0MQuF0NiXM\/edit#",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_64.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_80.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_360.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360_w": 278,
            "thumb_360_h": 360,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_480.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_480_w": 371,
            "thumb_480_h": 480,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_160.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_720.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_720_w": 557,
            "thumb_720_h": 720,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_800.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_800_w": 800,
            "thumb_800_h": 1035,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_960.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_960_w": 742,
            "thumb_960_h": 960,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F54DMLJMN-8392b79465\/global_impact_deployment_guide_1024.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_1024_w": 791,
            "thumb_1024_h": 1024,
            "image_exif_rotation": 1,
            "original_w": 800,
            "original_h": 1035,
            "permalink": "https:\/\/uncorked.slack.com\/files\/leia\/F54DMLJMN\/global_impact_deployment_guide",
            "channels": [
                "C3C7Z6ECF"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0,
            "has_rich_preview": true
        },
        "user": "U167FL70V",
        "upload": false,
        "display_as_bot": false,
        "username": "leia",
        "bot_id": null,
        "ts": "1493741791.204267"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "and that’s not what he’s trying to do (a migration)",
        "edited": {
            "user": "U167FL70V",
            "ts": "1493741811.000000"
        },
        "ts": "1493741800.207139"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "with some anon temporary cgp project?",
        "ts": "1493741808.210329"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "maybe thats too much work, but yeah",
        "ts": "1493741814.212601"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "migrate vs. repoint, right?",
        "ts": "1493741819.214191"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "it should theoretically be fast (theoretically)",
        "ts": "1493741826.216946"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "yea totally",
        "ts": "1493741831.218631"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "we’re 13 layers deep in theories",
        "ts": "1493741837.220702"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "WE’RE THRU THE LOOKING GLASS",
        "ts": "1493741848.224564"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "plus it would be good for all of us i think to get more familiar with this wonky ass google cloud console thing",
        "ts": "1493741849.224859"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "another dimension of servers",
        "ts": "1493741857.227507"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "also, hi <@U0EL0GLEL> hi <@U0K8ZSHN0>",
        "ts": "1493741858.227909"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": ":wave::skin-tone-2:",
        "ts": "1493741870.232205"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "do either of you have some time to try that out this morning?",
        "ts": "1493741889.239025"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "replicate what he’s trying to do and see if we’re missing some instructions",
        "ts": "1493741913.247259"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "i think its the permissions in the service account, we can make a new service account for him, but he will need to update his yaml file and deploy anyways to see if it worked.",
        "ts": "1493741969.267276"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "can we try that though?",
        "ts": "1493742021.285741"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "how can we duplicate this and test the migration instructions?",
        "ts": "1493742055.297996"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i would like us to be confident in what’s going wrong, or at least to be able to do it ourselves so we can know what the right steps are",
        "ts": "1493742057.298790"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "well we can just follow the migration instructions",
        "ts": "1493742071.303857"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "because that’s what Jose is doing",
        "ts": "1493742075.305343"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "does it matter that we are in a bad state currently?",
        "ts": "1493742099.313694"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "so theoretically if we follow those steps and do all of the same things it should either just work, or break in the same place",
        "ts": "1493742100.314127"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "we can just turn off the instance that is known bad and roll back to the last known good one",
        "ts": "1493742120.320968"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "If its the permissions on that account then it just wont work. its simple as that",
        "ts": "1493742133.325810"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "It does say to set owner in the doc but its easily missed",
        "ts": "1493742157.333379"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "soooo",
        "ts": "1493742162.335183"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "can you add that to the doc?",
        "ts": "1493742181.342154"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "can you show us how to do that? it was still unclear to me how that part works",
        "ts": "1493742191.345723"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "which is why i was hoping we could just try to replicate what jose is doing",
        "ts": "1493742200.348944"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "and it had been working John said during the afternoon, i dont know what jose changed so i cant really replicate what he is did",
        "ts": "1493742207.351243"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "right",
        "ts": "1493742215.353896"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i was just hoping we could try following our own instructions",
        "ts": "1493742224.357351"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "to see if they work",
        "ts": "1493742227.358578"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "and if they’re missing somethign (like the permissions thing, if that’s what’s going wrong) then we can add that",
        "ts": "1493742243.364019"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "that shouldn’t take very long to do right?",
        "ts": "1493742277.375520"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "pretty sure you need to open a new billing account with the gae to do the full process",
        "ts": "1493742279.376421"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "we can’t do it on the current prod instance?",
        "ts": "1493742293.381636"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "they’re not using it",
        "ts": "1493742297.382836"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "are the permissions something we can check? is this for service accounts?",
        "ts": "1493742309.387248"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "just use some other exec’s CC",
        "ts": "1493742315.389277"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "if you need new billing account",
        "ts": "1493742323.392258"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i don’t think we need to go that far and open a new account",
        "ts": "1493742326.393438"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "The problem I have is I dont really actually know what he changed, So i cant recreate that. It had been working john said. then jose changed something. So im unclear what that was",
        "ts": "1493742365.407432"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "They sadly dont let you view permissions",
        "ts": "1493742383.413592"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "john’s only one data point. is there harm in validating our process?",
        "ts": "1493742388.415544"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "no, but thats not my point. I dont know what he changed. I can hardly recereate something when i dont know the variables that were changed",
        "ts": "1493742432.430736"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "oh ohoh",
        "ts": "1493742437.432528"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "not recreate",
        "ts": "1493742440.433450"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "run thru our process",
        "ts": "1493742449.436510"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "as documented",
        "ts": "1493742454.438220"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "We seen this same error me and joel when we were setting up the prod server, and we reaslized that it was the permissions on the service account",
        "ts": "1493742457.439064"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "gotcha",
        "ts": "1493742464.442102"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "and you cant see them sadly so it was hard to catch",
        "ts": "1493742465.442436"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "i guess thats the thing tho, if we could blow thru that list - knowing that - couldn’t it be replicated",
        "ts": "1493742490.451351"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0K8ZSHN0|lee> uploaded a file: <https:\/\/uncorked.slack.com\/files\/lee\/F58AT74VC\/pasted_image_at_2017_05_02_09_28_am.png|is this where those permissions lie?>",
        "file": {
            "id": "F58AT74VC",
            "created": 1493742513,
            "timestamp": 1493742513,
            "name": "Pasted image at 2017_05_02 09_28 AM.png",
            "title": "is this where those permissions lie?",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U0K8ZSHN0",
            "editable": false,
            "size": 122488,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F58AT74VC\/pasted_image_at_2017_05_02_09_28_am.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F58AT74VC\/download\/pasted_image_at_2017_05_02_09_28_am.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_64.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_80.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_360.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360_w": 360,
            "thumb_360_h": 196,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_480.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_480_w": 480,
            "thumb_480_h": 261,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_160.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_720.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_720_w": 720,
            "thumb_720_h": 391,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F58AT74VC-361302f379\/pasted_image_at_2017_05_02_09_28_am_800.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_800_w": 800,
            "thumb_800_h": 435,
            "image_exif_rotation": 1,
            "original_w": 942,
            "original_h": 512,
            "permalink": "https:\/\/uncorked.slack.com\/files\/lee\/F58AT74VC\/pasted_image_at_2017_05_02_09_28_am.png",
            "permalink_public": "https:\/\/slack-files.com\/T0260V1BR-F58AT74VC-1b5346ca0f",
            "channels": [
                "C3C7Z6ECF"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0K8ZSHN0",
        "upload": true,
        "display_as_bot": false,
        "username": "lee",
        "bot_id": null,
        "ts": "1493742518.460561"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "and also going through that list from the point Jose is - which is not an entirely new environment, but updating an existing one",
        "ts": "1493742521.461801"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "<@U0K8ZSHN0> looks like it",
        "ts": "1493742586.484472"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i’m about as familiar with this config as you are",
        "ts": "1493742596.487755"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "no that is not acutally where you get to set permissions its missleading",
        "ts": "1493742607.492886"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "Only thing i can see from there is adding a member",
        "ts": "1493742644.506248"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "this interface is a little hard to follow sometimes :confused:",
        "ts": "1493742663.513342"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "so it would have to be greenfield setup to see the fucked flow",
        "ts": "1493742673.516821"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "ughhhhh i hate them",
        "ts": "1493742676.518082"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "INTERESTING SIDE QUESTION HOWEVER",
        "ts": "1493742685.521182"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "i think they’re like aws in that they have commandline tools that have slightly different powers?",
        "ts": "1493742712.530671"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "i wonder if its possible to run those to see",
        "ts": "1493742717.532449"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "or fuck with",
        "ts": "1493742720.533747"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "oh good question, they do have that comand line tool",
        "ts": "1493742736.539113"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0EL0GLEL|peter.bliss> uploaded a file: <https:\/\/uncorked.slack.com\/files\/peter.bliss\/F56SK1PLG\/screen_shot_2017-05-02_at_9.33.22_am.png|Screen Shot 2017-05-02 at 9.33.22 AM.png> and commented: These are the permissions Im thinking about, you see it on create of the service account",
        "file": {
            "id": "F56SK1PLG",
            "created": 1493742910,
            "timestamp": 1493742910,
            "name": "Screen Shot 2017-05-02 at 9.33.22 AM.png",
            "title": "Screen Shot 2017-05-02 at 9.33.22 AM.png",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U0EL0GLEL",
            "editable": false,
            "size": 69348,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F56SK1PLG\/screen_shot_2017-05-02_at_9.33.22_am.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F56SK1PLG\/download\/screen_shot_2017-05-02_at_9.33.22_am.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F56SK1PLG-90a97db19a\/screen_shot_2017-05-02_at_9.33.22_am_64.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F56SK1PLG-90a97db19a\/screen_shot_2017-05-02_at_9.33.22_am_80.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F56SK1PLG-90a97db19a\/screen_shot_2017-05-02_at_9.33.22_am_360.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_360_w": 360,
            "thumb_360_h": 278,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F56SK1PLG-90a97db19a\/screen_shot_2017-05-02_at_9.33.22_am_480.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "thumb_480_w": 480,
            "thumb_480_h": 371,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0260V1BR-F56SK1PLG-90a97db19a\/screen_shot_2017-05-02_at_9.33.22_am_160.png?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "image_exif_rotation": 1,
            "original_w": 708,
            "original_h": 547,
            "permalink": "https:\/\/uncorked.slack.com\/files\/peter.bliss\/F56SK1PLG\/screen_shot_2017-05-02_at_9.33.22_am.png",
            "permalink_public": "https:\/\/slack-files.com\/T0260V1BR-F56SK1PLG-65e94e5124",
            "channels": [
                "C3C7Z6ECF"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc57040M6V",
                "created": 1493742910,
                "timestamp": 1493742910,
                "user": "U0EL0GLEL",
                "is_intro": true,
                "comment": "These are the permissions Im thinking about, you see it on create of the service account"
            }
        },
        "user": "U0EL0GLEL",
        "upload": true,
        "display_as_bot": false,
        "username": "peter.bliss",
        "bot_id": null,
        "ts": "1493742919.604059"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "the doc says owner of project, Im not sure if owner on the cloud sql was needed also",
        "edited": {
            "user": "U0EL0GLEL",
            "ts": "1493742967.000000"
        },
        "ts": "1493742959.617688"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "but owner on project does say, access to all resources",
        "ts": "1493743000.631259"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U026PHQ3J|evans> uploaded a file: <https:\/\/uncorked.slack.com\/files\/evans\/F57J94EJG\/-.py|Untitled>",
        "file": {
            "id": "F57J94EJG",
            "created": 1493743010,
            "timestamp": 1493743010,
            "name": "-.py",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "python",
            "pretty_type": "Python",
            "user": "U026PHQ3J",
            "editable": true,
            "size": 125,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F57J94EJG\/-.py?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0260V1BR-F57J94EJG\/download\/-.py?t=xoxe-2204987399-220009572576-220663233794-4d92389b8a",
            "permalink": "https:\/\/uncorked.slack.com\/files\/evans\/F57J94EJG\/-.py",
            "permalink_public": "https:\/\/slack-files.com\/T0260V1BR-F57J94EJG-177d50526b",
            "edit_link": "https:\/\/uncorked.slack.com\/files\/evans\/F57J94EJG\/-.py\/edit",
            "preview": "gcloud iam service-accounts get-iam-policy \\\r\nmy-sa-123@my-project-123.iam.gserviceaccount.com \\\r\n--format json > policy.json",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">gcloud<\/span> <span class=\"cm-variable\">iam<\/span> <span class=\"cm-variable\">service<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">accounts<\/span> <span class=\"cm-variable\">get<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">iam<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">policy<\/span> <span class=\"cm-error\">\\<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">my<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">sa<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">123<\/span>@<span class=\"cm-variable\">my<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">project<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">123.<\/span><span class=\"cm-variable\">iam<\/span>.<span class=\"cm-property\">gserviceaccount<\/span>.<span class=\"cm-property\">com<\/span> <span class=\"cm-error\">\\<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">-<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-builtin\">format<\/span> <span class=\"cm-variable\">json<\/span> <span class=\"cm-operator\">&gt;<\/span> <span class=\"cm-variable\">policy<\/span>.<span class=\"cm-property\">json<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 3,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C3C7Z6ECF"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U026PHQ3J",
        "upload": true,
        "display_as_bot": false,
        "username": "evans",
        "bot_id": null,
        "ts": "1493743013.636257"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "<https:\/\/cloud.google.com\/iam\/docs\/granting-roles-to-service-accounts>",
        "ts": "1493743025.640681"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "view existing",
        "ts": "1493743049.648827"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "gcloud iam service-accounts get-iam-policy \\\n    <mailto:my-sa-123@my-project-123.iam.gserviceaccount.com|my-sa-123@my-project-123.iam.gserviceaccount.com>",
        "ts": "1493743049.649008"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "jose is back",
        "ts": "1493743079.659008"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "nice the web doesnt ahve that",
        "ts": "1493743079.659174"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "it says this",
        "ts": "1493743220.707621"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "bindings:\n- members:\n  - serviceAccount:net-contributor@net-contributor-prod.iam.gserviceaccount.com\n  role: roles\/owner\netag: BwVOjSqJZ4M=",
        "ts": "1493743221.707935"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "still kinda vague",
        "ts": "1493743251.718392"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "checking what dev says",
        "ts": "1493743276.727792"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": ":thinking_face: ",
        "ts": "1493743343.751608"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "I would assume Owner to be a god",
        "ts": "1493743368.760439"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "this is strange, im not seeing the same settings on dev or our staging",
        "ts": "1493743429.781895"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "i only get etag: ACAB",
        "ts": "1493743432.783141"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "there isnt any permissions listed when i run that command",
        "ts": "1493743444.787169"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "Wtf",
        "ts": "1493743449.788951"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "nor members",
        "ts": "1493743452.790122"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "Is the right account active on your end ",
        "ts": "1493743465.794406"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "gcloud login list",
        "ts": "1493743475.797623"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "i changed projects",
        "ts": "1493743476.798046"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "Huh. Weird. ",
        "ts": "1493743490.803222"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "would it be worthwhile to try deleting and recreating the service account?",
        "ts": "1493743592.838235"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "it should be possible to modify the service account roles with the commandline",
        "ts": "1493743643.856099"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "IIIFFF thats whats going on",
        "ts": "1493743650.858166"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "but do we know what they should be?",
        "ts": "1493743690.872020"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "SUPERGOD",
        "ts": "1493743718.881227"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "Oh I think i found the permissions editing area in the UI, its under the +IAM tab i think",
        "ts": "1493743764.897467"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "the key file has the current used service account info in it, I want to be able to directly check what values he is using against the account i see listed on the site and its permissions",
        "ts": "1493743862.931498"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "Looks like i have a sommley stand up in 5 mins that they want me to attend",
        "ts": "1493743964.966819"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "hm.",
        "ts": "1493744073.006095"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "so post-standup screenshare? or screeshots?",
        "ts": "1493744154.035482"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "its using this email for the serivce account <mailto:net-contributor@net-contributor-prod.iam.gserviceaccount.com|net-contributor@net-contributor-prod.iam.gserviceaccount.com>",
        "ts": "1493744163.038599"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "catchy.",
        "ts": "1493744171.041715"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "which is very strange acutally since i dont see that one in the list",
        "ts": "1493744205.053918"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "I cross refrenced what i see on dev and it shows up in its list",
        "ts": "1493744229.062803"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "that might be it",
        "ts": "1493744245.068748"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "it might be referencing the wrong account",
        "ts": "1493744256.072150"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "dope.",
        "ts": "1493744265.075827"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "i’m sure it can wait 15 min",
        "ts": "1493744271.078066"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "or more likely one that was delelted or something, its not in this list",
        "ts": "1493744282.081836"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "cool, ill create a new one and get him the new key file configured right when i get back from this and have him try that, this makes sense for being the issue",
        "ts": "1493744336.099720"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "Ok so didnt have to create a new service account, was able to add permissions for the current one. But still isnt able to work correctly. I am clicking through the interface and under encryption keys they appear to have created a key called SQL_Access, this is something that is outside of what we did in our setup, we didnt use any encryption keys. Im not entirely sure what this means or if this is what is causing the issue but its a difference in our setup",
        "ts": "1493746450.854591"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "hm.",
        "ts": "1493746465.859707"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "looks like thats part of the howto on container engine + cloud sql",
        "ts": "1493746530.883260"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "hiya, just getting back into the office and catching up on things…",
        "ts": "1493748818.709372"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "Jose is deploying a new service account key right now, The only delta I can find between our dev and prod is he created a key under the net-contributor service account when we used the app default, even tho they should both be the same permissions. maybe there is something about the default account, and they added encryption keys it seems, i dont know if that means something also changes in the connection, seems like this could throw it off possibly",
        "ts": "1493748949.755529"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "unclear if this encryption thing has any bearing on the connection. The docs dont seem to point to there being any, but its not really clear",
        "ts": "1493749064.796555"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "and the key-ring they added is called SQL_Access",
        "edited": {
            "user": "U0EL0GLEL",
            "ts": "1493749104.000000"
        },
        "ts": "1493749078.801230"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "thanks for the rundown <@U0EL0GLEL> seems like that encryption key is a good thing to look into.",
        "ts": "1493749180.836528"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "can you point me to where in the interface i’d find that ref?",
        "ts": "1493749191.840682"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "<https:\/\/console.cloud.google.com\/iam-admin\/kms?project=net-contributor-prod>",
        "attachments": [
            {
                "title": "Google Cloud Platform",
                "title_link": "https:\/\/console.cloud.google.com\/iam-admin\/kms?project=net-contributor-prod",
                "text": "Google Cloud Platform lets you build, deploy, and scale applications, websites, and services on the same infrastructure as Google.",
                "fallback": "Google Cloud Platform",
                "from_url": "https:\/\/console.cloud.google.com\/iam-admin\/kms?project=net-contributor-prod",
                "service_icon": "https:\/\/accounts.google.com\/favicon.ico",
                "service_name": "accounts.google.com",
                "id": 1
            }
        ],
        "ts": "1493749204.845553"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "thanks!",
        "ts": "1493749281.873307"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "wow yea that seems like a very legit thing to check out",
        "ts": "1493749337.893188"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "he is removing it, said it was an experiment",
        "ts": "1493749403.916933"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "hopefully there aren’t any other experiments he hasn’t mentioned @-@",
        "ts": "1493749787.055390"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "yea that is a bit ...",
        "ts": "1493749830.071060"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "when he’s creating the new service account key should we make sure he’s setting the right permissions on it?",
        "ts": "1493749931.108071"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "or is that something you already communicated <@U0EL0GLEL>?",
        "ts": "1493749952.115127"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "the key doesnt have the permissions assigned its the account that does",
        "ts": "1493749962.118704"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "he is making a key under the app default service account",
        "ts": "1493749978.124438"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "okay",
        "ts": "1493749982.126061"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "it already has the correct permissions setup",
        "ts": "1493749987.127612"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "and we’re 100% sure of that?",
        "ts": "1493749995.130518"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "this is the same basic setup that we are using on our dev",
        "ts": "1493750002.133051"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "yeah i found where i can see it",
        "ts": "1493750010.135899"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "cool",
        "ts": "1493750015.137184"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "i compared to our dev server and these match exactly, it should have permission when using a key from that account",
        "ts": "1493750084.161192"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "nice thanks for looking into that. really hope it works this time!",
        "ts": "1493750135.178680"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "any thoughts on where we’ll be if it doesn’t?",
        "edited": {
            "user": "U167FL70V",
            "ts": "1493750151.000000"
        },
        "ts": "1493750146.182568"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "yeah im not sure where else it could be having issue",
        "ts": "1493750157.186812"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "hmm okay",
        "ts": "1493750169.190965"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": ":fingerscrossed:",
        "ts": "1493750264.223589"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "there are 2 new strange authorized networks in the ip authroization table, \"sql connect at time 2017-05-02 17:56:55.762690+00:00\" and \"sql connect at time 2017-05-02 17:55:25.567749+00:00\" did anyone do this? the geo on the ip is beaverton",
        "ts": "1493750336.248446"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "ah the ip is us",
        "ts": "1493750437.283292"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "not sure why they are in there tho as we were already listed",
        "ts": "1493750468.294161"
    },
    {
        "type": "message",
        "user": "U2670DYLE",
        "text": "i connected to the db using gcloud beta sql connect command. It whitelists for 5 min. That might be what you are seeing",
        "ts": "1493750652.358630"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "ah, that makes sense",
        "ts": "1493751618.700881"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "i think that was it, im in and no 502",
        "ts": "1493752025.845658"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "this is … gooood",
        "ts": "1493752077.862560"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "yep that was it, he had a missing update in his yaml",
        "ts": "1493752081.864099"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "YAYAYAY",
        "ts": "1493752121.876936"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "thanks so much for working through that with Jose <@U0EL0GLEL> glad we finally figured out what the heck was going on",
        "ts": "1493753464.310708"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "for those not on the hangout - we’re going to regroup at 3pm to finalize by putting up the redirect",
        "ts": "1493753483.316685",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U2670DYLE",
                    "U0K8ZSHN0",
                    "U026PHQ3J"
                ],
                "count": 3
            }
        ]
    },
    {
        "type": "message",
        "user": "U2670DYLE",
        "text": "<@U167FL70V> are we good to put the redirect message back in place?",
        "ts": "1493762478.059841"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "i was just going to type something in here about that :smile:",
        "ts": "1493762496.064052"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "my internet is misbehaving a bit, but just wanted to get final confirmation from Jose that it’s good to go",
        "ts": "1493762534.073185"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "yes we are good to go!",
        "ts": "1493762571.082236"
    },
    {
        "type": "message",
        "user": "U0K8ZSHN0",
        "text": "Looks like Peter and Jose are coordinating that right now",
        "ts": "1493762577.083572"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "<@U0EL0GLEL> were you planning on doing redirect as well as grabbing db dump?",
        "ts": "1493762647.099517"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "just so we’re clear on what everyone is doing :stuck_out_tongue:",
        "ts": "1493762681.106952"
    },
    {
        "type": "message",
        "user": "U2670DYLE",
        "text": "I just put the redirect message in place.",
        "ts": "1493762682.107463"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "well there it is",
        "ts": "1493762688.108796"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "you guys don’t even need me",
        "ts": "1493762694.110170"
    },
    {
        "type": "message",
        "user": "U0EL0GLEL",
        "text": "I sent the dump to him",
        "ts": "1493762695.110530",
        "reactions": [
            {
                "name": "metal-hair",
                "users": [
                    "U0K8ZSHN0"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "thanks!",
        "ts": "1493762708.113432"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "okay we’re all set. google folk seem quite happy to have all this resolved so thanks a ton <@U0EL0GLEL> and <@U2670DYLE> for helping slog through this!",
        "ts": "1493763387.260048",
        "reactions": [
            {
                "name": "thanks",
                "users": [
                    "U0K8ZSHN0"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "dopedopedope",
        "ts": "1493763508.285179"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "thanks",
        "ts": "1493763509.285412"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "is there any reason\/need to edit any docs regarding what happened here",
        "ts": "1493763526.288956"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": "for the future generations",
        "edited": {
            "user": "U026PHQ3J",
            "ts": "1493763531.000000"
        },
        "ts": "1493763530.289512"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "jose already done did that",
        "ts": "1493763536.290939"
    },
    {
        "type": "message",
        "user": "U026PHQ3J",
        "text": ":tada:",
        "ts": "1493763542.292073"
    },
    {
        "type": "message",
        "user": "U0265G76F",
        "text": "Just landed in Miami to see this. Fantastic and THANK YOU",
        "ts": "1493763543.292336",
        "reactions": [
            {
                "name": "palm_tree",
                "users": [
                    "U167FL70V",
                    "U2670DYLE"
                ],
                "count": 2
            }
        ]
    },
    {
        "type": "message",
        "user": "U0265G76F",
        "text": "great work",
        "ts": "1493763568.297575"
    },
    {
        "type": "message",
        "user": "U0265G76F",
        "text": "and well timed — i had sent an email to their team about getting in for portfolio shootin'",
        "ts": "1493763586.301184"
    },
    {
        "type": "message",
        "user": "U167FL70V",
        "text": "nice!",
        "ts": "1493763693.322544"
    }
]